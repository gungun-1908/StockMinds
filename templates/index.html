<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, maximum-scale=1">

<title>Homepage</title>
<link rel="icon" href="static/img/favicon.png" type="image/png">
<link rel="shortcut icon" href="static/img/favicon.ico" type="img/x-icon">

<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,800italic,700italic,600italic,400italic,300italic,800,700,600' rel='stylesheet' type='text/css'>

<link href="static/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="static/css/style.css" rel="stylesheet" type="text/css">
<link href="static/css/font-awesome.css" rel="stylesheet" type="text/css">
<link href="static/css/responsive.css" rel="stylesheet" type="text/css">
<link href="static/css/animate.css" rel="stylesheet" type="text/css">

<!--[if IE]><style type="text/css">.pie {behavior:url(PIE.htc);}</style><![endif]-->

<script type="text/javascript" src="static/js/jquery.1.8.3.min.js"></script>
<script type="text/javascript" src="static/js/bootstrap.js"></script>
<script type="text/javascript" src="static/js/jquery-scrolltofixed.js"></script>
<script type="text/javascript" src="static/js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="static/js/jquery.isotope.js"></script>
<script type="text/javascript" src="static/js/wow.js"></script>
<script type="text/javascript" src="static/js/classie.js"></script>

</head>
<body>
<header class="header" id="header"><!--header-start-->
	<div class="container">
    	<figure class="logo animated fadeInDown delay-07s">
        	<a href="#"><img src="static/img/icon.jpeg" alt=""></a>	
        </figure>	
        <h1 class="animated fadeInDown delay-07s">StockMinds</h1>
        <ul class="we-create animated fadeInUp delay-1s">
        	<li>"Your Guide to Market Mastery - Real-Time Insights for Smarter Investments!"</li>
        </ul>
            <a class="link animated fadeInUp delay-1s servicelink" href="#service">Get Started</a>
    </div>
</header><!--header-end-->

<nav class="main-nav-outer" id="test"><!--main-nav-start-->
	<div class="container">
        <ul class="main-nav">
        	<li><a href="#header">Home</a></li>
            <li><a href="#service">Services</a></li>
            <li><a href="#Portfolio">Predicting</a></li>
            <li class="small-logo"><a href="#header"><img src="img/small-logo.png" alt=""></a></li>
            <li><a href="#client">Dashboard</a></li>
            <li><a href="#team">News</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <a class="res-nav_click" href="#"><i class="fa-bars"></i></a>
    </div>
</nav><!--main-nav-end-->



<section class="main-section" id="service"><!--main-section-start-->
	<div class="container">
    	<h2>Services</h2>
    	<h6>We offer exceptional services for investment lovers.</h6>
        <div class="row">
        	<div class="col-lg-4 col-sm-6 wow fadeInLeft delay-05s">
            	<div class="service-list">
                	<div class="service-list-col1">
                    	<i class="fa-phone"></i>
                    </div>
                	<div class="service-list-col2">
                        <h3>Stock Price Predicting</h3>
                        <p>Access ML driven stock price forecasts for the future. Make informed investment decisions with accurate predictions at your fingertips.</p>
                    </div>
                </div>
                <div class="service-list">
                	<div class="service-list-col1">
                    	<i class="fa-gear"></i>
                    </div>
                	<div class="service-list-col2">
                        <h3>Stock Summarizer</h3>
                        <p>Summarizes the stock information quickly and accurately.Know about the desired stock to make informed decisions.</p>
                    </div>
                </div>
                <div class="service-list">
                	<div class="service-list-col1">
                    	<i class="fa-bars"></i>
                    </div>
                	<div class="service-list-col2">
                        <h3>News & Insights</h3>
                        <p>Get the latest stock-related news and insights. Stay ahead with updates that matter to your investments and market interests.</p>
                    </div>
                </div>
                <div class="service-list">
                	<div class="service-list-col1">
                    	<i class="fa-dashboard"></i>
                    </div>
                	<div class="service-list-col2">
                        <h3>Dashboard</h3>
                        <p>Get all the live updates of stocks.Update every 5 minutes.</p>
                    </div>
                </div>
            </div>
            <figure class="col-lg-8 col-sm-6  text-right wow fadeInUp delay-02s">
            	<img src="static/img/R.jpeg" alt="">
            </figure>
        
        </div>
	</div>
</section><!--main-section-end-->



<section class="main-section alabaster"><!--main-section alabaster-start-->
	<div class="container">
    	<div class="row">
			<figure class="col-lg-5 col-sm-4 wow fadeInLeft">
            	<img  src="static/img/predictimg.jpg" alt="">
            </figure>
        	<div class="col-lg-7 col-sm-8 featured-work">
            	 <div id="basic-predict-result" class="mt-4"></div>
                 <div class = "container">
                    <h1>Stock Price Prediction</h1>
                    <form action="/predict" method="POST">
                        <div class="form-group">
                            <label for="symbol">Enter Stock Symbol (e.g., AAPL): </label>
                            <input type="text" id="symbol" name="symbol" required>
                        </div>
                        <div class="form-group">
                            <label for="days">Number of Days to Predict: </label>
                            <select id="days" name="days" required>
                                <option value="5">5 Days</option>
                                <option value="10">10 Days</option>
                                <option value="15">15 Days</option>
                            </select>
                        </div>
                        <button type="submit">Predict</button>
                    </form>
                
                    {% if symbol %}
                    <div class="result">
                        <h3>Prediction for {{ symbol }} ({{ days }} Days):</h3>
                        <p>Predicted Price: <span class="prediction">${{ predicted_price }}</span></p>
                        <p>Mean Absolute Error: {{ mae }}</p>
                    </div>
                    {% endif %}
    </div>
                 </div>
            	
        </div>
	</div>
    </div>
</section><!--main-section alabaster-end-->



<section class="main-section paddind" id="Portfolio"><!--main-section-start-->
	<div class="container">
    	<h2><a href="/dashboard">Dashboard</a></h2>
    	<h6>Live updates about various stocks that update every 5 minutes.</h6>
        <div id="stock-dashboard"></div>
       
        
	</div>
    {{ dash_app | safe }}

    
</section><!--main-section-end-->


<section class="main-section client-part" id="client"><!--main-section client-part-start-->
	<div class="container">
		<b class="quote-right wow fadeInDown delay-03"><i class="fa-quote-right"></i></b>
        <form method="POST" action="/news">
            <input type="text" name="stock_symbol" placeholder="Enter Stock Symbol" required>
            <button type="submit">Get News</button>
        </form>
    
        {% if news_articles %}
            <div class="news-section">
                <h2 style="color: aliceblue;">Related News</h2>
                {% for article in news_articles %}
                    <div class="news-article">
                        <h3><a href="{{ article.url }}" target="_blank">{{ article.title }}</a></h3>
                        <p>{{ article.description }}</p>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    	
    </div>
</section><!--main-section client-part-end-->

<section class="main-section team" id="team"><!--main-section team-start-->
	<div class="container">
        <h2>Summarizer</h2>
        <h6>Get the summary of the stock you wish to invest into to make informed decisions.</h6>
        <form class="form-container" method="POST" action="/summarize" >
            <input type="text" name="stock_symbol" placeholder="Enter stock symbol" required>
            <button type="submit">Get Stock Summary</button>
        </form>

        {% if stock_summary %}
            {% if stock_summary.error %}
                <p style="color: red; text-align: center;">{{ stock_summary.error }}</p>
            {% else %}
                <div class="stock-summary">
                    <h2>Summary for {{ stock_summary.symbol }} - {{ stock_summary.name }}</h2>
                    <p><span class="key-value">Current Price:</span> ${{ stock_summary.current_price }}</p>
                    <p><span class="key-value">Previous Close:</span> ${{ stock_summary.previous_close }}</p>
                    <p><span class="key-value">Market Cap:</span> ${{ stock_summary.market_cap }}</p>
                    <p><span class="key-value">P/E Ratio:</span> {{ stock_summary.pe_ratio }}</p>
                    <p><span class="key-value">Day High:</span> ${{ stock_summary.day_high }}</p>
                    <p><span class="key-value">Day Low:</span> ${{ stock_summary.day_low }}</p>
                    <p><span class="key-value">52 Week High:</span> ${{ stock_summary.fifty_two_week_high }}</p>
                    <p><span class="key-value">52 Week Low:</span> ${{ stock_summary.fifty_two_week_low }}</p>
                    <p><span class="key-value">Volume:</span> {{ stock_summary.volume }}</p>
                </div>
            {% endif %}
        {% endif %}
    </div>
        
        </div> -->
    </div>
</section><!--main-section team-end-->



<section class="business-talking"><!--business-talking-start-->
	<div class="container">
        <h2>Letâ€™s Talk Business.</h2>
    </div>
</section><!--business-talking-end-->
<div class="container">
<section class="main-section contact" id="contact">
	
        <div class="row">
        	<div class="col-lg-6 col-sm-7 wow fadeInLeft">
            	<div class="contact-info-box address clearfix">
                	<h3><i class=" icon-map-marker"></i>Address:</h3>
                	<span>New Delhi, India.</span>
                </div>
                <div class="contact-info-box phone clearfix">
                	<h3><i class="fa-phone"></i>Phone:</h3>
                	<span>1234567890</span>
                </div>
                <div class="contact-info-box email clearfix">
                	<h3><i class="fa-pencil"></i>email:</h3>
                	<span>hello@abc.com</span>
                </div>
            </div>
        	<div class="col-lg-6 col-sm-5 wow fadeInUp delay-05s">
            	<div class="form">
                	
                    <div id="sendmessage">Your message has been sent. Thank you!</div>
                    <div id="errormessage"></div>
                    <form action="" method="post" role="form" class="contactForm">
                        <div class="form-group">
                            <input type="text" name="name" class="form-control input-text" id="name" placeholder="Your Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control input-text" name="email" id="email" placeholder="Your Email" data-rule="email" data-msg="Please enter a valid email" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control input-text" name="subject" id="subject" placeholder="Subject" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                            <textarea class="form-control input-text text-area" name="message" rows="5" data-rule="required" data-msg="Please write something for us" placeholder="Message"></textarea>
                            <div class="validation"></div>
                        </div>
                        
                        <div class="text-center"><button type="submit" class="input-btn">Send Message</button></div>
                    </form>
                </div>	
            </div>
        </div>
</section>
</div>
<footer class="footer">
    <div class="container">
        <div class="footer-logo"><a href="#"><img src="img/footer-logo.png" alt=""></a></div>
        <span class="copyright">&copy; All Rights Reserved</span>
        <div class="credits">
            
        </div>
    </div>
</footer>


<script type="text/javascript">
    $(document).ready(function(e) {
        $('#test').scrollToFixed();
        $('.res-nav_click').click(function(){
            $('.main-nav').slideToggle();
            return false    
            
        });
        
    });
</script>

  <script>
    wow = new WOW(
      {
        animateClass: 'animated',
        offset:       100
      }
    );
    wow.init();
  </script>


<script type="text/javascript">
	$(window).load(function(){
		
		$('.main-nav li a, .servicelink').bind('click',function(event){
			var $anchor = $(this);
			
			$('html, body').stop().animate({
				scrollTop: $($anchor.attr('href')).offset().top - 102
			}, 1500,'easeInOutExpo');
			
      if ($(window).width() < 768 ) { 
        $('.main-nav').hide(); 
      }
			event.preventDefault();
		});
	})
</script>

<script type="text/javascript">

$(window).load(function(){
  
  
  var $container = $('.portfolioContainer'),
      $body = $('body'),
      colW = 375,
      columns = null;

  
  $container.isotope({
    // disable window resizing
    resizable: true,
    masonry: {
      columnWidth: colW
    }
  });
  
  $(window).smartresize(function(){
    // check if columns has changed
    var currentColumns = Math.floor( ( $body.width() -30 ) / colW );
    if ( currentColumns !== columns ) {
      // set new column count
      columns = currentColumns;
      // apply width to container manually, then trigger relayout
      $container.width( columns * colW )
        .isotope('reLayout');
    }
    
  }).smartresize(); // trigger resize to set container width
  $('.portfolioFilter a').click(function(){
        $('.portfolioFilter .current').removeClass('current');
        $(this).addClass('current');
 
        var selector = $(this).attr('data-filter');
        $container.isotope({
			
            filter: selector,
         });
         return false;
    });
  
});

</script>
<script src="{{ url_for('static', filename='js/jquery.1.8.3.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
    <script>
        // Basic Prediction Form Submission
        $("#basic-predict-form").submit(function(event) {
            event.preventDefault();
            const ticker = $("#ticker").val();
            const days = $("#days").val();

            $.ajax({
                url: "/predict",
                type: "POST",
                data: { ticker: ticker, days: days },
                success: function(response) {
                    $("#basic-predict-result").html(`<p><strong>Result:</strong> ${response.result}</p>`);
                },
                error: function() {
                    $("#basic-predict-result").html("<p>There was an error with the prediction request.</p>");
                }
            });
        });
</script>

<script>
    // Function to update the stock table
    function updateStockData() {
        fetch('/get_stock_data')
            .then(response => response.json())
            .then(stockData => {
                const tableBody = document.getElementById('stock-table').getElementsByTagName('tbody')[0];
                tableBody.innerHTML = ''; // Clear the table before adding new data
                
                stockData.forEach(stock => {
                    const row = tableBody.insertRow();
                    row.innerHTML = `
                        <td>${stock.symbol}</td>
                        <td>$${stock.price}</td>
                        <td class="${stock.change >= 0 ? 'positive-change' : 'negative-change'}">${stock.change}%</td>
                    `;
                });
            })
            .catch(error => console.error('Error fetching stock data:', error));
    }

    // Initial data load when page loads
    updateStockData();

    // Update stock data every 5 minutes (300,000 ms)
    setInterval(updateStockData, 300000);
</script>

</body>
</html>